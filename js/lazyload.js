"use strict";!function(o,c){var n,s,e=void 0!==o&&"IntersectionObserver"in o,l=Array.prototype.slice.call(c.querySelectorAll("img[srcset]"));l&&0!==l.length&&(e?(n=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.target;e.isIntersecting&&(t.setAttribute("srcset",t.src),t.onload=t.onerror=function(){return n.unobserve(t)})})},{threshold:[0],rootMargin:(o.innerHeight||c.documentElement.clientHeight)+"px"}),l.map(function(e){return n.observe(e)})):(s=new Debouncer(function(){for(var e,t,n,r,i=0;i<l.length;i++)e=l[i],0,t=e.getBoundingClientRect(),n=o.innerHeight||c.documentElement.clientHeight,(0<=(r=t.top)&&r<=3*n||r<=0&&r<=-2*n-t.height)&&function(){var e,t,n,r,o=l[i];e=o,t=function(){l=l.filter(function(e){return o!==e})},n=new Image,r=e.getAttribute("src"),n.onload=function(){e.srcset=r,t&&t()},n.srcset=r}();0===l.length&&o.removeEventListener("scroll",s,!1)}),o.addEventListener("scroll",s,!1),s.handleEvent()))}(window,document);