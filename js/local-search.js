"use strict";var searchFunc=function(t,e,n){var i=document.getElementById(e),a=document.getElementById(n);a.innerHTML='<div class="m-auto text-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div><br/>Loading...</div>',$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get();a.innerHTML="",i.addEventListener("input",function(){var h="",m=this.value.trim().toLowerCase().split(/[\s-]+/);if(a.innerHTML="",!(this.value.trim().length<=0)){e.forEach(function(t){var n=!0;t.title&&""!==t.title.trim()||(t.title="Untitled");var e,i,a,s=t.title.trim(),l=s.toLowerCase(),r=t.content.trim().replace(/<[^>]+>/g,""),c=r.toLowerCase(),o=t.url,u=-1,d=-1,v=-1;""!==c?m.forEach(function(t,e){u=l.indexOf(t),d=c.indexOf(t),u<0&&d<0?n=!1:(d<0&&(d=0),0===e&&(v=d))}):n=!1,n&&(h+="<a href='"+o+"' class='list-group-item list-group-item-action font-weight-bolder search-list-title'>"+s+"</a>",0<=v&&(i=v+80,(e=v-20)<0&&(e=0),0===e&&(i=100),i>r.length&&(i=r.length),a=r.substring(e,i),m.forEach(function(t){var e=new RegExp(t,"gi");a=a.replace(e,"<span class='pink-text'>"+t+"</span>")}),h+="<p class='search-list-content'>"+a+"...</p>"))});var t=$("#local-search-input");if(-1===h.indexOf("list-group-item"))return t.addClass("invalid").removeClass("valid");t.addClass("valid").removeClass("invalid"),a.innerHTML=h}})}}),$(document).on("click","#local-search-close",function(){$("#local-search-input").val("").removeClass("invalid").removeClass("valid"),$("#local-search-result").html("")})};